# Meme Generator for Udacity's Intermediate Python Nanodegree Capstone

## Project Overview
The goal of this project is to build a meme generator that creates a meme given an image and a quote. 
Users can upload images and quotes via an application or through the command line to generate a meme. 
Both of these interfaces can also create random memes if an
image and quote aren't provided.
## Setup
This setup is specific to a Mac machine.  

First ensure that Python 3 is installed on your machine. If it is not, follow [these instructions](https://docs.python-guide.org/starting/install3/osx/) to install it locally.

Next, install venv to setup a virtual environment:  
`apt-get install python3-venv -y`  
 
Create a virtual environment:  
`python3 -m venv venv`

Activate the virtual environment:  
`source venv/bin/activate`

To install dependent libraries:  
`pip3 install -r requirements.txt`  

After the dependent libraries are installed, you can run the application via the web application or command line.  

#### Web application
To run the Flask web application run:  
`python3 app.py`

Open `http://127.0.0.1:5000/ ` in your browser.

From there, you can click the `Random` button to generate a random meme.  

The `Creator` button will ask the user to provide a link to the image URL (must be a jpg or png file format), 
the quote body, and the quote author. After those are entered, click `Create Meme!` to generate your meme.  

Once you are done with the web application, press `CTRL-c` to exit the application.

#### Command Line

To run the command line tool run:  
`python3 meme.py`

There are three optional CLI arguments:  
* `--body`: A string for the quote body
* `--author`: A string for the author of the quote
* `--path`: The path to an image

If a quote body is provided, then an author must be provided as well (and vice versa).
If none of these arguments are provided, then a random meme is generated.
  
After the command line is executed, the location of the meme will be returned.

Examples:
* Provide an image and generate a random quote:  
`python3 meme.py --path ./_data/photos/dog/xander_1.jpg`
* Provide a quote and generate a random image:  
`python3 meme.py --body "Ruh roh" --author "Scooby-Doo"`
* Provide and quote and image:  
`python3 meme.py --body "Ruh roh" --author "Scooby-Doo" --path ./_data/photos/dog/xander_2.jpg 
`

## Sub-modules

#### QuoteEngine
The quote engine creates the data model for a quote and several helper functions to ingest quotes from different file formats (csv, text, docx, and PDF). These are used to generate the random quotes for memes. 

* **QuoteModel**: Defines the quote object containing the body and author as attributes.  
* **CSVIngestor**: Uses the pandas library to ingest a csv file and extract the body and author to create quote objects.
* **DocxIngestor**: Uses the python-docx library to ingest a docx file and parse the body and author to create quote 
objects.
* **TXTIngestor**: Uses internal python libraries to ingest text files and parse the body and author to create quote 
objects.
* **PDFIngestor**: Uses the xpdf tool to ingest a PDF and convert it to a text file which is then passed to the 
TXTIngestor to parse the body and author to create quote objects. The xpdf is packaged as a part of this application.
* **IngestorInterface**: Creates the abstract class and template for the above ingestor classes.  
* **Ingestor**: A class which encapsulates all the helper classes.  

The `run.py` file contains examples on how to run the Ingestor class to parse quotes from various file types. 
Review the lines of code for that section and run: `python3 run.py`  

#### MemeGenerator
The meme generator creates a meme given an image and quote (body and author). 

The **MemeGenerator** class creates an object given the location of where to output the memes. 
The main method is the `make_meme` which takes in an image path, quote (body and author), and width (size of the meme
which is less than or equal to 500px). Once these are provided, a meme is generated by resizing the image
based on the given width and randomly placing the quote somewhere within the image. This method outputs the location of
the created meme.

The `run.py` file contains examples on how to run the MemeGenerator class to generate memes. 
Review the lines of code for that section and run: `python3 run.py` 
